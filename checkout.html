<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Checkout - HawkerHub</title>
    <link rel="stylesheet" href="StylesCheckOut.css" />
    <link rel="stylesheet" href="CardModal.css" />
  </head>

  <body>
    <header class="topbar">
      <div class="container topbar-inner">
        <img src="img/Dashboard button.png" alt="Menu" class="icon-btn" />
        <div class="brand">
          <img src="img/Logo.png" alt="HawkerHub Logo" class="logo" />
        </div>
        <nav class="navlinks">
          <a href="browsestalls.html" class="navlink">Browse</a>
          <a href="history.html" class="navlink">History</a>
          <a href="cart.html" class="navlink">Cart</a>
        </nav>
        <a class="btn btn-signin" href="#">Sign in</a>
      </div>
    </header>

    <section class="page-banner-wrap">
      <div class="page-banner">
        <a class="back-link" href="cart.html">‚Üê Back to Cart</a>
        <h1 class="page-title">Checkout</h1>
      </div>
    </section>

    <main class="checkout-layout">
      <section class="checkout-left">
        <section class="card">
          <div class="card-title">
            <span class="card-icon"><img src="img/user.png" class="icon-img" /></span>
            Contact Information
          </div>
          <div class="form-grid">
            <label class="field">
              <span class="label">Full Name *</span>
              <input id="fullName" type="text" placeholder="Enter your name" />
            </label>
            <label class="field">
              <span class="label">Phone Number *</span>
              <input id="phoneNumber" type="text" placeholder="+65 XXXX XXXX" />
            </label>
          </div>
        </section>

        <section class="card">
          <div class="card-title">
            <span class="card-icon"><img src="img/clock.png" class="icon-img" /></span>
            Pickup Details
          </div>
          <div class="form-grid">
            <label class="field">
              <span class="label">Collection Method</span>
              <select id="collectionMethod">
                <option value="Pickup">Pickup</option>
                <option value="Delivery">Delivery</option>
              </select>
            </label>
            <label class="field">
              <span class="label">Special instructions (Optional)</span>
              <input id="specialInstructions" type="text" placeholder="E.g. less spicy" />
            </label>
            <label class="field" id="deliveryAddressField" style="display: none;">
              <span class="label">Delivery Address *</span>
              <input type="text" id="deliveryAddress" placeholder="Enter delivery address" />
            </label>
            <label class="field" id="postalCodeField" style="display: none;">
              <span class="label">Postal Code *</span>
              <input type="text" id="postalCode" placeholder="e.g. 123456" />
            </label>
          </div>
        </section>

        <section class="card">
          <div class="card-title">
            <span class="card-icon"><img src="img/credit-card.png" class="icon-img" /></span>
            Payment Method
          </div>
          <div class="payment-list">
            <label class="pay-option is-selected">
              <input type="radio" name="pay" value="card" checked />
              Credit / Debit Card
              <span class="pay-logos">
                <img src="img/mastercard.webp" class="pay-logo pay-logo-mc" />
                <img src="img/visa.png" class="pay-logo pay-logo-visa" />
              </span>
            </label>
            <label class="pay-option">
              <input type="radio" name="pay" value="paynow" />
              Scan to pay
              <span class="pay-logos">
                <img src="img/nets.png" class="pay-logo pay-logo-nets">
                <img src="img/paynow.webp" class="pay-logo pay-logo-paynow" />
              </span>
            </label>
            <label class="pay-option">
              <input type="radio" name="pay" value="cash" />
              Cash on Pickup
            </label>
          </div>
        </section>
      </section>

      <aside class="summary">
        <h2>Order Summary</h2>
        <div class="row"><span>Subtotal</span><span id="checkoutSubtotal">$0.00</span></div>
        <div class="row" id="checkoutEcoRow" style="display: none;"><span>Eco Packaging</span><span id="checkoutEcoFee">+$0.00</span></div>
        <div class="row" id="discountRow" style="display: none;"><span>Discount</span><span id="discountAmount">-$0.00</span></div>
        
        <div class="promo-row">
          <input id="promoCodeInput" type="text" placeholder="Enter promo code" />
          <button id="applyPromoBtn" type="button">Apply</button>
        </div>
        <div id="promoMsg" class="promo-msg"></div>

        <div class="divider"></div>
        <div class="row total"><span>Total</span><span id="checkoutTotal">$0.00</span></div>
        <button class="cta" type="button">Submit</button>
        <div class="footnote">Pickup time will be confirmed after checkout</div>
      </aside>
    </main>

    <div class="modal-overlay" id="cardModalOverlay" aria-hidden="true">
      <div class="modal" role="dialog">
        <h3>Card Details</h3>
        <div class="grid">
          <label class="row1">Name on card<input id="cardName" type="text" placeholder="J. Smith" /></label>
          <label class="row1">Card number<input id="cardNumber" type="text" placeholder="1234 5678 9012 3456" /></label>
          <label>Expiry date<input id="cardExpiry" type="text" placeholder="MM/YY" /></label>
          <label>Security code<input id="cardCvv" type="text" placeholder="3 digits" /></label>
        </div>
        <div id="cardModalError" class="error"></div>
        <div class="actions">
          <button id="cardCancelBtn" class="btn" type="button">Cancel</button>
          <button id="cardAddBtn" class="btn btn-primary" type="button">Add</button>
        </div>
        <div class="hint">Your card is saved locally (demo only).</div>
      </div>
    </div>

    <div class="modal-overlay" id="paynowModalOverlay" aria-hidden="true">
      <div class="modal" role="dialog">
        <h3>PayNow</h3>
        <div class="qr-wrap" id="paynowQrWrap">
          <img src="img/nets qr.png" alt="Nets QR" />
          <img src="img/qr code.png" alt="PayNow QR" />
        </div>
        <div id="paynowSuccessMsg" class="paynow-success" style="display: none;">Successful!</div>
        <div class="qr-note" id="paynowQrNote">Scan the QR code using your banking app.</div>
        <div class="actions">
          <button id="paynowCloseBtn" class="btn btn-primary" type="button">Done</button>
        </div>
      </div>
    </div>

    <script type="module" src="checkout.js"></script>
  </body>
</html>